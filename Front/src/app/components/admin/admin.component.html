<div class="admin-container">
  <mat-toolbar color="primary" class="veolia-toolbar">
    Administrador - Veolia
  </mat-toolbar>

  <!-- Botón principal -->
  <div class="ruta-button-container">
    <button mat-flat-button color="accent" class="hoja-ruta-btn" (click)="abrirModal()">
      <mat-icon>add</mat-icon>
      Crear hoja de ruta
    </button>
  </div>

  <!-- Contenido principal -->
  <div class="content">
    <div class="section">
      <h2>Generadores Activos</h2>
      <mat-list>
        <mat-list-item *ngFor="let gen of generadores">{{ gen.name }}</mat-list-item>
      </mat-list>
    </div>

    <div class="section">
      <h2>Solicitudes de Registro</h2>
      <mat-list>
        <mat-list-item *ngFor="let solicitud of solicitudes">{{ solicitud.name }}</mat-list-item>
      </mat-list>
    </div>
  </div>

  <!-- Modal -->
  <ng-template #dialogTemplate>
    <h2 mat-dialog-title>Crear Hoja de Ruta</h2>
    <mat-dialog-content [formGroup]="rutaForm">
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Vehículo</mat-label>
        <mat-select formControlName="vehiculo">
          <mat-option *ngFor="let v of vehiculos" [value]="v">{{ v }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Zona</mat-label>
        <mat-select formControlName="zona">
          <mat-option *ngFor="let z of zonas" [value]="z">{{ z }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Operario</mat-label>
        <mat-select formControlName="operario">
          <mat-option *ngFor="let o of operarios" [value]="o">{{ o }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Hora de salida</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="horaSalida">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-button mat-dialog-close>Cancelar</button>
      <button mat-raised-button color="primary" (click)="crearRuta()">Crear</button>
    </mat-dialog-actions>
  </ng-template>
</div>


